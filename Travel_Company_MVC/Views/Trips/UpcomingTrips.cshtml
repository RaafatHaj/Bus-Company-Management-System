@model TrackStationTripsViewModel

@section Styles {

	<link href="~/lib/sweetalert2/sweetalert2.min.css" rel="stylesheet" />
	<link href="~/assets/plugins/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />

}



<div class="d-flex gap-6">

	<div class="w-300px">
		<select asp-for="StationId" class="form-select  form-select-sm  " data-control="select2" data-placeholder="Select an option" asp-items="@Model.Stations">
			<option></option>
		</select>

	</div>

	<a class="btn btn-primary btn-sm js-render-card"
	   data-url="/Trips/TrackStationTrips?StationId=@Model.StationId" data-card-id="route-details-card">Track</a>




</div>



<div class="mt-15">



	<table id="Tracking_Table" class="table table-row-dashed table-row-gray-300 align-middle W-100 gs-0 gy-4">
		<thead>
			<tr class="fw-bold fs-6 text-gray-800 px-7">
				<th>Arrival Time</th>
				<th>Departure Time</th>
				<th>Stations</th>
				<th></th>
				<th>Route</th>
				<th></th>
				<th>Actions</th>

			</tr>
		</thead>
		<tbody>

			<tr>
				<td>

					@* 					<div>

					<div class="d-flex gap-2">

					<span class="text-gray-900 fw-bold d-block testtt">
					@Model.AvailibiltyStartDateTime.ToString("HH:mm")
					<span class="text-muted fw-semibold fs-7">
					@(Model.AvailibiltyStartDateTime.TimeOfDay > new TimeSpan(12, 0, 0) ? "Pm" : "Am")
					</span>
					</span>
					<span class="text-primary">@Model.AvailibiltyStartDateTime.ToString("ddd")</span>


					</div>

					<div class="text-muted fw-semibold fs-7 ">
					<span class="text-primary">
					@Model.AvailibiltyStartDateTime.ToString("dd")
					</span>
					@Model.AvailibiltyStartDateTime.ToString("MMM")
					@Model.AvailibiltyStartDateTime.ToString("yyyy").
					</div>
					</div> *@
					<div class="d-flex gap-2 align-items-start">
						<div class="m-0 d-flex">

							<a class="btn btn-sm text-hover-primary js-table-chiled"
							@* data-url="/Trips/GetPatternWeeks"
							   data-json-data="@jsonData">
							   *@								<i class="ki-duotone ki-down text-hover-primary  fs-2   ">
								</i>

							</a>



							<i class="ki-duotone fw-semibold  ki-black-down   fs-1 ">  </i>

							<div>

								<div class="d-flex gap-2">

									<span class="text-gray-900 fw-bold d-block testtt">
										12:15
										<span class="text-muted fw-semibold fs-7">
											Pm
										</span>
									</span>
									<span class="text-primary">Mon</span>


								</div>

								<div class="text-muted fw-semibold fs-7 ">
									<span class="text-primary">
										14
									</span>
									Jul
									2025.
								</div>
							</div>



						</div>
						<div class=" badge   badge-light-primary ">Arrived</div>

					</div>


				</td>
				<td>
					<div class="d-flex gap-2 align-items-start">
						<div class="m-0 d-flex">


							<i class="ki-duotone fw-semibold  ki-black-up   fs-1 ">  </i>

							<div>

								<div class="d-flex gap-2">

									<span class="text-gray-900 fw-bold d-block testtt">
										12:30
										<span class="text-muted fw-semibold fs-7">
											Pm
										</span>
									</span>
									<span class="text-primary">Mon</span>


								</div>

								<div class="text-muted fw-semibold fs-7 ">
									<span class="text-primary">
										14
									</span>
									Jul
									2025.
								</div>
							</div>



						</div>
						<div class=" badge   badge-light-danger ">Moved</div>

					</div>


				</td>
				<td>

					<div>

						<div class="text-gray-900 fw-bold ">
							Damascuse-Center

						</div>

						<div class="text-muted fw-semibold fs-7 ">
							Previous
						</div>
					</div>



				</td>
				<td>

					<div>

						<div class="text-gray-900 fw-bold ">
							Idlib-Center

						</div>

						<div class="text-muted fw-semibold fs-7 ">
							Next
						</div>
					</div>

				</td>
				<td>

					<div>

						<div class="text-gray-900 fw-bold ">
							D4-A

						</div>

						<div class="text-muted fw-semibold fs-7 ">
							350 km
						</div>
					</div>

				</td>
				<td>

					<div class=" badge   badge-light-primary ">Active</div>
					<div class="text-muted fw-semibold fs-7 ms-2">
						Trip
					</div>

				</td>


				<td>

					<a href="#" class="btn btn-sm btn-light btn-flex btn-center btn-active-light-primary" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
						Actions
						<i class="ki-duotone ki-down fs-5 ms-1"></i>
					</a>
					<!--begin::Menu-->
					<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-150px py-4" data-kt-menu="true" style="">
						<!--begin::Menu item-->
						<div class="menu-item px-3">
							<a href="apps/ecommerce/catalog/edit-product.html" class="menu-link px-3">Mark As <span class="text-primary"> Arrived</span> </a>
						</div>
						<!--end::Menu item-->
						<!--begin::Menu item-->
						<div class="menu-item px-3">
							<a href="#" class="menu-link px-3" data-kt-ecommerce-product-filter="delete_row"><span>Mark As </span> <span class="text-danger"> Moved</span></a>
						</div>
						<!--end::Menu item-->
					</div>
					<!--end::Menu-->


				</td>
			</tr>
			@* 	@foreach (var vehicle in Model)
			{

			<partial name="~/Views/Vehicles/_AvailableVehiclesRow.cshtml" model="@vehicle" />



			} *@



		</tbody>
	</table>


</div>

@section Plugins {

	<script src="~/assets/plugins/datatables/datatables.bundle.js"></script>
	<script src="~/lib/sweetalert2/sweetalert2.min.js"></script>

}


@section Scripts {

	<script>
		const table = InitilaizeMetronicDatatable('Tracking_Table');

	</script>



}
