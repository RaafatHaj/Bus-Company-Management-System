@model IEnumerable<StationTrackDTO>

<table id="Tracking_Table" class="table table-row-dashed table-row-gray-300 align-middle W-100 gs-0 gy-4">
	<thead>
		<tr class="fw-bold fs-6 text-gray-800 px-7">
			<th>Arrival Time</th>
			<th>Departure Time</th>
			<th>Status</th>
			<th>Stations</th>
			<th></th>
			<th>Route</th>
			<th></th>
			<th>Actions</th>

		</tr>
	</thead>
	<tbody>

			@foreach (var track in Model)
		{

@* 		<partial name="~/Views/Vehicles/_AvailableVehiclesRow.cshtml" model="@vehicle" />
 *@

			<tr>
				<td>

					<div class="d-flex gap-2 align-items-start">
						<div class="m-0 d-flex">


							<i class="ki-duotone fw-semibold  ki-black-down   fs-1 mt-1 ">  </i>

							<div>

								<div class="">

									<span class="text-gray-800 fw-bold d-block fs-3">
										@track.ArrivalDateTime.ToString("HH:mm")
										<span class="text-muted fw-semibold fs-7">
											@(track.ArrivalDateTime.TimeOfDay > new TimeSpan(12, 0, 0) ? "Pm" : "Am")
										</span>
										<span class="text-primary fw-normal  fs-6  ">@track.ArrivalDateTime.ToString("ddd")</span>
									</span>
								


								</div>

								<div class="text-muted fw-semibold fs-7 ">
									<span class="text-primary">
										@track.ArrivalDateTime.ToString("dd")
									</span>
									@track.ArrivalDateTime.ToString("MMM")
									@track.ArrivalDateTime.ToString("yyyy").
								</div>
							</div>



						</div>



					</div>


				</td>
				<td>
					<div class="d-flex gap-2 align-items-start">
						<div class="m-0 d-flex">


							<i class="ki-duotone fw-semibold  ki-black-up   fs-1 mt-2">  </i>

							<div>

								<div class="">

									<span class="text-gray-900 fw-bold d-block fs-1">
										@track.DepartureDateTime.ToString("HH:mm")
										<span class="text-muted fw-semibold fs-7">
											@(track.DepartureDateTime.TimeOfDay > new TimeSpan(12, 0, 0) ? "Pm" : "Am")
										</span>
										<span class="text-primary fw-normal  fs-5 ">@track.DepartureDateTime.ToString("ddd")</span>

									</span>


								</div>

								<div class="text-muted fw-semibold fs-7 ">
									<span class="text-primary">
										@track.DepartureDateTime.ToString("dd")
									</span>
									@track.DepartureDateTime.ToString("MMM")
									@track.DepartureDateTime.ToString("yyyy").
								</div>
							</div>



						</div>



@* 						<div class=" badge   @statusColor ">@track.Status</div>
 *@
					</div>
				</td>
				<td>

					@{
						string statusColor = "";
						if (track.Status == StationStatus.Moved)
							statusColor = "badge-light-danger";
						else if (track.Status == StationStatus.Pending)
							statusColor = "badge-light-warning";
						else if (track.Status == StationStatus.Arrived)
							statusColor = "badge-light-primary";

					}

					<div class=" badge   @statusColor  ">@track.Status</div>
				
				</td>

				<td>

					<div>

						<div class="text-gray-900 fw-bold ">
							@track.PreviousStation

						</div>

						<div class="text-muted fw-semibold fs-7 ">
							Previous
						</div>
					</div>



				</td>
				<td>

					<div>

						<div class="text-gray-900 fw-bold ">
							@track.NexttStation

						</div>

						<div class="text-muted fw-semibold fs-7 ">
							Next
						</div>
					</div>

				</td>
				<td>

					<div>

						<div class="text-gray-900 fw-bold ">
							@track.RouteName

						</div>

						<div class="text-muted fw-semibold fs-7 ">
							@* @track.EstimatedDistance km *@
							350 km
						</div>
					</div>

				</td>
				<td>

					@{
						string color = "";
						if (track.TripStatus == TripStatus.Unassigned)
							color = "badge-light";
						else if (track.TripStatus == TripStatus.Pending)
							color = "badge-light-warning";
						else if (track.TripStatus == TripStatus.Active)
							color = "badge-light-primary";
						else if (track.TripStatus == TripStatus.Canseled)
							color = "badge-light-danger";
						else if (track.TripStatus == TripStatus.Complete)
							color = "badge-light-success";

					}


					<div class=" badge  @color ">@track.TripStatus</div>
					<div class="text-muted fw-semibold fs-7 ms-2">
						Trip
					</div>

				</td>


				<td>

					<a href="#" class="btn btn-sm btn-light btn-flex btn-center btn-active-light-primary" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
						Actions
						<i class="ki-duotone ki-down fs-5 ms-1"></i>
					</a>
					<!--begin::Menu-->
					<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-150px py-4" data-kt-menu="true" style="">
						<!--begin::Menu item-->
						<div class="menu-item px-3">
							<a href="apps/ecommerce/catalog/edit-product.html" class="menu-link px-3">Mark As&nbsp;<span class="text-primary">Arrived</span> </a>
						</div>
						<!--end::Menu item-->
						<!--begin::Menu item-->
						<div class="menu-item px-3">
							<a href="#" class="menu-link px-3" data-kt-ecommerce-product-filter="delete_row"><span>Mark As&nbsp;</span> <span class="text-danger"> Moved</span></a>
						</div>
						<!--end::Menu item-->
					</div>
					<!--end::Menu-->


				</td>
			</tr>






		} 



	

	</tbody>
</table>

