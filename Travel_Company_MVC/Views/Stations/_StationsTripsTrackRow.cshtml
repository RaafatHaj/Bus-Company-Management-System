@model StationTrackDTO;

<tr>
	<td>

		<div class="d-flex gap-2 align-items-start">
			<div class="m-0 d-flex">


				<i class="ki-duotone fw-semibold  ki-black-down   fs-1 mt-1 ">  </i>

				<div>

					<div class="">

						<span class="text-gray-800 fw-bold d-block fs-3">
							@Model.ArrivalDateTime.ToString("HH:mm")
							<span class="text-muted fw-semibold fs-7">
								@(Model.ArrivalDateTime.TimeOfDay > new TimeSpan(12, 0, 0) ? "Pm" : "Am")
							</span>
							<span class="text-primary fw-normal  fs-6  ">@Model.ArrivalDateTime.ToString("ddd")</span>
						</span>



					</div>

					<div class="text-muted fw-semibold fs-7 ">
						<span class="text-primary">
							@Model.ArrivalDateTime.ToString("dd")
						</span>
						@Model.ArrivalDateTime.ToString("MMM")
						@Model.ArrivalDateTime.ToString("yyyy").
					</div>
				</div>



			</div>



		</div>


	</td>
	<td>
		<div class="d-flex gap-2 align-items-start">
			<div class="m-0 d-flex">


				<i class="ki-duotone fw-semibold  ki-black-up   fs-1 mt-2">  </i>

				<div>

					<div class="">

						<span class="text-gray-900 fw-bold d-block fs-1">
							@Model.DepartureDateTime.ToString("HH:mm")
							<span class="text-muted fw-semibold fs-7">
								@(Model.DepartureDateTime.TimeOfDay > new TimeSpan(12, 0, 0) ? "Pm" : "Am")
							</span>
							<span class="text-primary fw-normal  fs-5 ">@Model.DepartureDateTime.ToString("ddd")</span>

						</span>


					</div>

					<div class="text-muted fw-semibold fs-7 ">
						<span class="text-primary">
							@Model.DepartureDateTime.ToString("dd")
						</span>
						@Model.DepartureDateTime.ToString("MMM")
						@Model.DepartureDateTime.ToString("yyyy").
					</div>
				</div>



			</div>



			@* 						<div class=" badge   @statusColor ">@Model.Status</div>
			*@
		</div>
	</td>
	<td>

		@{
			string statusColor = "";
			if (Model.Status == StationStatus.Moved)
				statusColor = "badge-light-danger";
			else if (Model.Status == StationStatus.Pending)
				statusColor = "badge-light-warning";
			else if (Model.Status == StationStatus.Arrived)
				statusColor = "badge-light-primary";

		}

		<div class=" badge   @statusColor  ">@Model.Status</div>

	</td>

	<td>
		@{
			if(Model.PreviousStation is null)
			{
				<div class="text-muted fw-semibold fs-7 ">
					No Previous
				</div>

			}
			else
			{
				<div>

					<div class="text-gray-900 fw-bold ">
						@Model.PreviousStation

					</div>

					<div class="text-muted fw-semibold fs-7 ">
						Previous
					</div>
				</div>

			}
		}
	


	</td>
	<td>

		@{

			if(Model.NexttStation is null)
			{
				<div class="text-muted fw-semibold fs-7 ">
					No Next
				</div>
			}
			else
			{
				<div>

					<div class="text-gray-900 fw-bold ">
						@Model.NexttStation

					</div>

					<div class="text-muted fw-semibold fs-7 ">
						Next
					</div>
				</div>
			}
		}


	</td>
	<td>

		<div>

			<div class="text-gray-900 fw-bold ">
				@Model.RouteName

			</div>

			<div class="text-muted fw-semibold fs-7 ">
				@* @Model.EstimatedDistance km *@
				350 km
			</div>
		</div>

	</td>
	<td>

		@{
			string color = "";
			if (Model.TripStatus == TripStatus.Unassigned)
				color = "badge-light";
			else if (Model.TripStatus == TripStatus.Pending)
				color = "badge-light-warning";
			else if (Model.TripStatus == TripStatus.Active)
				color = "badge-light-primary";
			else if (Model.TripStatus == TripStatus.Canseled)
				color = "badge-light-danger";
			else if (Model.TripStatus == TripStatus.Complete)
				color = "badge-light-success";

		}


		<div class=" badge  @color ">@Model.TripStatus</div>
		<div class="text-muted fw-semibold fs-7 ms-2">
			Trip
		</div>

	</td>


	<td>

		<a href="#" class="btn btn-sm btn-light btn-flex btn-center btn-active-light-primary" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
			Actions
			<i class="ki-duotone ki-down fs-5 ms-1"></i>
		</a>
		<!--begin::Menu-->
		<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-150px py-4" data-kt-menu="true" style="">

			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link px-3 js-ajax-request"
				   data-url="/Stations/MarkStationAsArrived?tripId=@Model.TripId&stationId=@Model.StationId&stationOrder=@Model.StationOrder"
				   data-message="Are you sure that the trip is Arrived"
				   data-title="Confirm Arriving"
				   data-updete-table="true"
				   data-callback="UpdateTrackingRow">Mark As Arrived</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link px-3 js-ajax-request"
				   data-url="/Stations/MarkStationAsMoved?tripId=@Model.TripId&stationId=@Model.StationId&stationOrder=@Model.StationOrder"
				   data-message="Are you sure that the trip is Moved"
				   data-title="Confirm Moving"
				   data-updete-table="true"
				   data-callback="UpdateTrackingRow">Mark As Moved</a>
			</div>
			<!--end::Menu item-->
			<!--begin::Menu item-->
			<div class="menu-item px-3">
				<a href="#" class="menu-link px-3 js-render-modal"
				   data-url="/Trips/GetTripTrack?tripId=@Model.TripId"
				  >Track Trip</a>
			</div>
			<!--end::Menu item-->

		</div>
		<!--end::Menu-->


	</td>
</tr>



